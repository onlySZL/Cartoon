{"remainingRequest":"C:\\Users\\苏子龙\\Desktop\\2-XM\\demo\\scaffolding\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\苏子龙\\Desktop\\2-XM\\demo\\scaffolding\\src\\views\\Login.vue?vue&type=style&index=1&lang=css&","dependencies":[{"path":"C:\\Users\\苏子龙\\Desktop\\2-XM\\demo\\scaffolding\\src\\views\\Login.vue","mtime":1651715705822},{"path":"C:\\Users\\苏子龙\\Desktop\\2-XM\\demo\\scaffolding\\node_modules\\css-loader\\dist\\cjs.js","mtime":1640758918000},{"path":"C:\\Users\\苏子龙\\Desktop\\2-XM\\demo\\scaffolding\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1640758932000},{"path":"C:\\Users\\苏子龙\\Desktop\\2-XM\\demo\\scaffolding\\node_modules\\postcss-loader\\src\\index.js","mtime":1640758924000},{"path":"C:\\Users\\苏子龙\\Desktop\\2-XM\\demo\\scaffolding\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1640758910000},{"path":"C:\\Users\\苏子龙\\Desktop\\2-XM\\demo\\scaffolding\\node_modules\\vue-loader\\lib\\index.js","mtime":1640758926000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQoubWludC1tc2dib3ggew0KICBwb3NpdGlvbjogZml4ZWQ7DQogIHRvcDogNDAlICFpbXBvcnRhbnQ7DQogIGxlZnQ6IDQwJSAhaW1wb3J0YW50Ow0KICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKC01MCUsIC01MCUsIDApOw0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOw0KICB3aWR0aDogODV2dyAhaW1wb3J0YW50Ow0KICBib3JkZXItcmFkaXVzOiAzcHg7DQogIGZvbnQtc2l6ZTogNHZ3ICFpbXBvcnRhbnQ7DQogIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7DQogIG92ZXJmbG93OiBoaWRkZW47DQogIC13ZWJraXQtYmFja2ZhY2UtdmlzaWJpbGl0eTogaGlkZGVuOw0KICBiYWNrZmFjZS12aXNpYmlsaXR5OiBoaWRkZW47DQogIHRyYW5zaXRpb246IDAuMnM7DQp9DQoubWludC10b2FzdCB7DQogIHBvc2l0aW9uOiBmaXhlZDsNCiAgdG9wOiA1MCUgIWltcG9ydGFudDsNCiAgbGVmdDogNTAlICFpbXBvcnRhbnQ7DQogIG1heC13aWR0aDogODB2dyAhaW1wb3J0YW50Ow0KICBib3JkZXItcmFkaXVzOiA1cHg7DQogIGJhY2tncm91bmQ6IHJnYmEoMTUzLCAxMDgsIDEwOCwgMC43KTsNCiAgY29sb3I6ICNmZmY7DQogIGJveC1zaXppbmc6IGJvcmRlci1ib3g7DQogIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgei1pbmRleDogMTAwMDsNCiAgLXdlYmtpdC10cmFuc2l0aW9uOiBvcGFjaXR5IDAuM3MgbGluZWFyOw0KICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuM3MgbGluZWFyOw0KfQ0KLm1pbnQtY2VsbC13cmFwcGVyIHsNCiAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KA0KICAgIDE4MGRlZywNCiAgICAjZDlkOWQ5LA0KICAgICNkOWQ5ZDkgNTAlLA0KICAgIHRyYW5zcGFyZW50IDUwJQ0KICApOw0KICBiYWNrZ3JvdW5kLXNpemU6IDEyMCUgMXB4Ow0KICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0Ow0KICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiB0b3AgbGVmdDsNCiAgYmFja2dyb3VuZC1vcmlnaW46IGNvbnRlbnQtYm94Ow0KICBhbGlnbi1pdGVtczogY2VudGVyOw0KICBib3gtc2l6aW5nOiBib3JkZXItYm94Ow0KICBkaXNwbGF5OiBmbGV4Ow0KICBmb250LXNpemU6IDR2dyAhaW1wb3J0YW50Ow0KICBsaW5lLWhlaWdodDogMSAhaW1wb3J0YW50Ow0KICBtaW4taGVpZ2h0OiBpbmhlcml0Ow0KICBvdmVyZmxvdzogaGlkZGVuOw0KICBwYWRkaW5nOiAwIDIwcHggIWltcG9ydGFudDsNCiAgd2lkdGg6IDEwMHZ3ICFpbXBvcnRhbnQ7DQp9DQoubWludC1maWVsZC1zdGF0ZSAubWludHVpIHsNCiAgZm9udC1zaXplOiA1dncgIWltcG9ydGFudDsNCn0NCi5taW50LWNlbGwtdGV4dCB7DQogIGxpbmUtaGVpZ2h0OiAyICFpbXBvcnRhbnQ7DQogIHZlcnRpY2FsLWFsaWduOiBtaWRkbGUgIWltcG9ydGFudDsNCn0NCi5taW50LWZpZWxkIC5taW50LWNlbGwtdGl0bGUgew0KICB3aWR0aDogMjB2dyAhaW1wb3J0YW50Ow0KICBmbGV4OiBub25lICFpbXBvcnRhbnQ7DQp9DQo="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"zuofloat\">\r\n      <img src=\"/images/img/Home/logo2.png\" alt=\"\" class=\"logo\" />\r\n      <p class=\"login\">登录</p>\r\n    </div>\r\n\r\n    <div class=\"reg\">\r\n      <!-- 输入框 -->\r\n      <mt-field\r\n        class=\"fit\"\r\n        type=\"text\"\r\n        label=\"用户名\"\r\n        @blur.native.capture=\"checkName\"\r\n        v-model=\"name\"\r\n        :state=\"nameState\"\r\n        placeholder=\"请输入用户名\"\r\n      ></mt-field>\r\n      <mt-field\r\n        class=\"fit\"\r\n        type=\"password\"\r\n        label=\"密码\"\r\n        @blur.native.capture=\"checkPwd\"\r\n        placeholder=\"请输入密码\"\r\n        :attr=\"{ maxlength: '11' }\"\r\n        v-model=\"pwdname\"\r\n        :state=\"pwdState\"\r\n      ></mt-field>\r\n      <mt-button :disabled=\"!agree\" class=\"btn\" @click=\"checkForm\" size=\"large\"\r\n        >登录</mt-button\r\n      >\r\n    </div>\r\n\r\n    <div>\r\n      <p class=\"way\">其它登录方式</p>\r\n      <router-link to=\"/register\" class=\"go\">去注册</router-link>\r\n   \r\n   </div>\r\n   \r\n\r\n    <div class=\"login-auto1\">\r\n      <input\r\n        v-model=\"agree\"\r\n        type=\"checkbox\"\r\n        class=\"agreement\"\r\n        id=\"yes1\"\r\n        style=\"width: 4vw; height: 4vw\"\r\n      />\r\n      <label for=\"yes1\">同意《快看隐私协议》《用户服务协议》</label>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      agree: false, //同意与否,\r\n      name: \"\", //绑定用户名文本框输入的内容\r\n      nameState: \"\", //绑定用户名文本框的状态\r\n      pwdname: \"\", //绑定密码文本框输入的内容\r\n      pwdState: \"\", //绑定密码文本框输入的状态\r\n      data:''\r\n    };\r\n  },\r\n  methods: {\r\n    //验证用户名文本框\r\n    checkName() {\r\n      let reg = /^[a-zA-Z0-9_-]{4,16}$/;\r\n      if (reg.test(this.name)) {\r\n        //验证成功\r\n        this.nameState = \"success\";\r\n        return true;\r\n      } else {\r\n        //验证失败\r\n        this.nameState = \"error\";\r\n        return false;\r\n      }\r\n    },\r\n    checkPwd() {\r\n      let pwd = /^1[3-9]\\d{9}$/;\r\n      if (pwd.test(this.pwdname)) {\r\n        //验证成功\r\n        this.pwdState = \"success\";\r\n        return true;\r\n      } else {\r\n        //验证失败\r\n        this.pwdState = \"error\";\r\n        return false;\r\n      }\r\n    },\r\n\r\n    //验证表单\r\n    checkForm() {\r\n      if (this.checkName() && this.checkPwd()) {\r\n        console.log(\"验证成功,执行登录业务...\");\r\n        //发送post请求,执行登录业务\r\n        this.axios\r\n          .post(\"/login\", `u_names=${this.name}&u_pwd=${this.pwdname}`)\r\n          .then((res) => {\r\n            console.log(res);\r\n            this.data = res.data.data;\r\n            console.log(this.data);\r\n            if (res.data.code == 1) {\r\n              //向sessionStorage中存储\r\n              window.sessionStorage.setItem(\"name\",this.data[0].u_names);\r\n              window.sessionStorage.setItem(\"pwdname\",this.data[0].u_pwd );\r\n              window.sessionStorage.setItem(\"emailname\",this.data[0].u_email);\r\n              window.sessionStorage.setItem(\"phonename\",this.data[0].u_phone);\r\n              window.sessionStorage.setItem(\"pic\",this.data[0].u_pic);\r\n              //登录成功\r\n              this.$toast(\"登录成功\");\r\n              //调用mutations中的loginOK,修改vuex用户状态\r\n              this.$store.commit(\"loginOK\", this.name);\r\n              window.sessionStorage.setItem(\"islogin\", true);\r\n              var toPtah = window.sessionStorage.getItem(\"toPath\");\r\n              this.$router.push({ path: toPtah });\r\n              this.$router.push(\"/me\");\r\n            } else if (res.data.code == 0) {\r\n              //登录失败\r\n              this.$toast(\"账号密码输入错误\");\r\n            }\r\n          });\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped src=\"../assets/css/login.css\">\r\n</style>\r\n\r\n<style>\r\n.mint-msgbox {\r\n  position: fixed;\r\n  top: 40% !important;\r\n  left: 40% !important;\r\n  transform: translate3d(-50%, -50%, 0);\r\n  background-color: #fff;\r\n  width: 85vw !important;\r\n  border-radius: 3px;\r\n  font-size: 4vw !important;\r\n  -webkit-user-select: none;\r\n  overflow: hidden;\r\n  -webkit-backface-visibility: hidden;\r\n  backface-visibility: hidden;\r\n  transition: 0.2s;\r\n}\r\n.mint-toast {\r\n  position: fixed;\r\n  top: 50% !important;\r\n  left: 50% !important;\r\n  max-width: 80vw !important;\r\n  border-radius: 5px;\r\n  background: rgba(153, 108, 108, 0.7);\r\n  color: #fff;\r\n  box-sizing: border-box;\r\n  text-align: center;\r\n  z-index: 1000;\r\n  -webkit-transition: opacity 0.3s linear;\r\n  transition: opacity 0.3s linear;\r\n}\r\n.mint-cell-wrapper {\r\n  background-image: linear-gradient(\r\n    180deg,\r\n    #d9d9d9,\r\n    #d9d9d9 50%,\r\n    transparent 50%\r\n  );\r\n  background-size: 120% 1px;\r\n  background-repeat: no-repeat;\r\n  background-position: top left;\r\n  background-origin: content-box;\r\n  align-items: center;\r\n  box-sizing: border-box;\r\n  display: flex;\r\n  font-size: 4vw !important;\r\n  line-height: 1 !important;\r\n  min-height: inherit;\r\n  overflow: hidden;\r\n  padding: 0 20px !important;\r\n  width: 100vw !important;\r\n}\r\n.mint-field-state .mintui {\r\n  font-size: 5vw !important;\r\n}\r\n.mint-cell-text {\r\n  line-height: 2 !important;\r\n  vertical-align: middle !important;\r\n}\r\n.mint-field .mint-cell-title {\r\n  width: 20vw !important;\r\n  flex: none !important;\r\n}\r\n</style>"]}]}