{"remainingRequest":"C:\\web2019\\fourth\\day02\\demo\\scaffolding\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\web2019\\fourth\\day02\\demo\\scaffolding\\src\\views\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\web2019\\fourth\\day02\\demo\\scaffolding\\src\\views\\Home.vue","mtime":1641285926355},{"path":"C:\\web2019\\fourth\\day02\\demo\\scaffolding\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1640758908837},{"path":"C:\\web2019\\fourth\\day02\\demo\\scaffolding\\node_modules\\babel-loader\\lib\\index.js","mtime":1640758922024},{"path":"C:\\web2019\\fourth\\day02\\demo\\scaffolding\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1640758908837},{"path":"C:\\web2019\\fourth\\day02\\demo\\scaffolding\\node_modules\\vue-loader\\lib\\index.js","mtime":1640758924784}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYXJ0aWNsZXM6IFtdLCAvL+eUqOS6juWtmOWCqOaJgOacieeahOaWh+eroOS/oeaBrwogICAgICBhY3RpdmU6ICIxIiwgLy/liLbpobbpg6jlr7zoiKrpu5jorqTpgInpoblpZAogICAgICBzZWxlY3RlZDogInNob3V5ZSIsIC8v5oyH5a6a5bqV6YOo6YCJ6aG55Y2h6buY6K6k6YCJ5Lit6aG5aWQKICAgICAgaDogIjIxMHB4IiwgLy/ova7mkq3lm77nmoTpu5jorqTpq5jluqYKICAgICAgY2F0czogW10sIC8v5a2Y5YKo57G75Yir5pWw57uECiAgICAgIHBhZ2U6IDEsCiAgICAgIGxvYWRpbmc6IGZhbHNlLCAvL+eUqOS6juagh+ivhiDliJfooajmmK/lkKbmraPlnKjliqDovb3kuK0KICAgIH07CiAgfSwKICBtZXRob2RzOnsKICAgIC8v5Yqg6L295paH56ug5YiX6KGoLOmAmui/h2NhbGxiYWNr6L+U5Zue5Y+R6K+35rGC6I635Y+W55qE5paH56ug5pWw57uECiAgICAvL2NpZCDnsbvliKtpZAogICAgLy9wYWdlIOmhteeggQogICAgLy9jYWxsYmFjayDlm57osIPmlrnms5UKICAgIGxvYWRBcnRpY2xlcyhjaWQscGFnZSxjYWxsYmFjayl7CiAgICAgIC8v5by55Ye6562J5b6F5qGGCiAgICAgIC8vVnVlLnVzZShNaW50VUkp5pe2IOWwhuS8muS4ulZ1ZeeahOWOn+Wei+azqOWFpSRpbmRpY2F0b3LlsZ7mgKcKICAgICAgdGhpcy4kaW5kaWNhdG9yLm9wZW4oewogICAgICB0ZXh0OifliqDovb3kuK0uLi4nLAogICAgICBzcGlubmVyVHlwZTonc25ha2UnCiAgICAgIH0pCiAgICAgIHRoaXMuYXhpb3MuZ2V0KGAvYXJ0aWNsZXM/Y2lkPSR7Y2lkfSZwYWdlPSR7cGFnZX1gKS50aGVuKHJlcz0+ewogICAgICAgIGxldCBhcnRzID0gcmVzLmRhdGEucmVzdWx0czsKICAgICAgICBjYWxsYmFjayhhcnRzKTsKICAgICAgICAvL+WPlua2iOetieW+heahhgogICAgICAgIHRoaXMuJGluZGljYXRvci5jbG9zZSgpCiAgICAgIH0pCiAgICB9LAoKICAgIGluaXRTd2lwZSgpewogICAgICAvL+iuoeeul+i9ruaSreWbvueahOmrmOW6piDkuLp0aGlzLmjlj5jph4/otYvlgLwKICAgICAgbGV0IHNjcmVlblcgPSB3aW5kb3cuc2NyZWVuLndpZHRoOwogICAgICBsZXQgcGljdyA9IDEyNDI7CiAgICAgIGxldCBwaWNoID0gNjk4OwogICAgICBsZXQgc3dpcGVoID0gTWF0aC5mbG9vcigocGljaCAqIHNjcmVlblcpIC8gcGljdykgKyAicHgiOwogICAgICB0aGlzLmggPSBzd2lwZWg7CiAgICB9LAogICAgLy8g5Y+R6K+35rGC5Yid5aeL5YyWIOWvvOiIquWIl+ihqAogICAgaW5pdE5hdigpewogICAgICB0aGlzLmF4aW9zLmdldCgiL2NhdGVnb3J5IikudGhlbigocmVzKSA9PiB7CiAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICB0aGlzLmNhdHMgPSByZXMuZGF0YS5yZXN1bHRzOwogICAgICAgIGNvbnNvbGUubG9nKHRoaXMuY2F0cyk7CiAgICAgIH0pOwogICAgfSwKICAgIC8v5aOw5piO6Kem5bqV5Yqg6L2955qEbG9hZG1vcmXmlrnms5UKICAgIGxvYWRtb3JlKCl7CiAgICAgIGlmICh0aGlzLmxvYWRpbmcpIHJldHVybjsgLy/lpoLmnpzmraPlnKjliqDovb3kuK0s5YiZ55u05o6lcmV0dXJuCiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7IC8v5Yqg6L295LitIOmYsuatomxvYWRtb3Jl6YeN5aSN6LCD55SoCiAgICAgIGxldCBjaWQgPSB0aGlzLmFjdGl2ZTsgLy/lvZPliY3mv4DmtLvpobnnmoTnsbvliKtpZCDlsLHmmK9jaWQKICAgICAgbGV0IHBhZ2UgPSArK3RoaXMucGFnZTsgLy/ojrflj5bkuIvkuIDpobXpobXnoIEKICAgICAgY29uc29sZS5sb2coYOinpuW6leWKoOi9veS4i+S4gOmhtTogY2lkOiR7Y2lkfSAgcGFnZToke3BhZ2V9YCk7CiAgICAgIC8v5Y+R6YCBaHR0cOivt+axgizojrflj5ZjaWTnsbvliKvkuIvnmoQgcGFnZemhteeggeeahOaVsOaNrjoKICAgICAgdGhpcy5sb2FkQXJ0aWNsZXMoY2lkLHBhZ2UsKGFydHMpPT57CiAgICAgICAgdGhpcy5hcnRpY2xlcy5wdXNoKC4uLmFydHMpCiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UKICAgICAgfSkKICAgIH0sCiAgfSwKICB3YXRjaDogewogICAgLy8g5YiH5o2i6aG26YOo5a+86Iiq6YCJ5Lit6aG56Kem5Y+RCiAgICBhY3RpdmUobmV3VmFsdWUsIG9sZFZhbHVlKSB7CiAgICAgIC8v5Zue5Yiw6aG26YOoCiAgICAgIHdpbmRvdy5zY3JvbGxUbygwLCAwKTsKICAgICAgLy/lsIZ0aGlzLnBhZ2Ug6YeN572u5Li6MSAo5LuO56ys5LiA6aG16YeN5paw5Yqg6L29KQogICAgICB0aGlzLnBhZ2UgPSAxOwogICAgICBjb25zb2xlLmxvZyhuZXdWYWx1ZSk7IC8vbmV3VmFsdWUg5bCx5piv5b2T5YmN57G75YiraWQKICAgICAgLy/lj5HpgIFodHRw6K+35rGCIOiuv+mXruW9k+WJjeexu+WIq+S4i+eahOesrOS4gOmhteaVsOaNriDmm7TmlrDliJfooagKICAgICAgdGhpcy5sb2FkQXJ0aWNsZXMobmV3VmFsdWUsMSwoYXJ0cyk9PnsKICAgICAgICB0aGlzLmFydGljbGVzID0gYXJ0cwogICAgICB9KQogICAgfSwKICAgIHNlbGVjdGVkKG5ld1ZhbHVlLCBvbGRWYWx1ZSkgewogICAgICBpZiAobmV3VmFsdWUgPT0gIm1lIikgewogICAgICAgIC8v55So5oi354K55LqG5bqV6YOo6YCJ6aG5OuaIkeeahAogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvbWUiKTsKICAgICAgfQogICAgfSwKICB9LAoKICAvLyDlvZPliY3pobXpnaLlj5jkuLrmv4DmtLvmgIHml7bop6blj5EKICBhY3RpdmF0ZWQoKXsKICAgIGNvbnNvbGUubG9nKCfmv4DmtLtIb21lJykKICAgIHRoaXMubG9hZGluZyA9IGZhbHNlCiAgICB9LAogIC8vIOW9k+WJjemhtemdouWPmOS4uumdnua/gOa0u+aAgeaXtuinpuWPkQogIGRlYWN0aXZhdGVkKCl7CiAgICBjb25zb2xlLmxvZygn6Z2e5r+A5rS7SG9tZScpCiAgICB0aGlzLmxvYWRpbmcgPSB0cnVlCiAgICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmluaXRTd2lwZSgpOyAvL+WIneWni+WMlui9ruaSreWbvgogICAgdGhpcy5pbml0TmF2KCk7IC8v5Yid5aeL5YyW5a+86IiqCiAgICAvL+WPkemAgWh0dHDor7fmsYIs6K6/6ZeudWnnsbvliKvkuIvnmoTpppbpobXmlofnq6DmlbDmja4KICAgIHRoaXMubG9hZEFydGljbGVzKDEsMSwoYXJ0cyk9PnsKICAgICAgdGhpcy5hcnRpY2xlcyA9IGFydHM7CiAgICB9KTsKICB9LAp9Owo="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <!-- 标题栏 -->\n    <mt-header title=\"学前端,到达内\" fixed>\n      <div slot=\"right\">\n        <router-link to=\"/register\" class=\"link\">注册</router-link>\n        <router-link to=\"/login\" class=\"link\">登录</router-link>\n      </div>\n    </mt-header>\n    <!-- 导航条 -->\n    <mt-navbar style=\"top: 40px\" v-model=\"active\" fixed>\n      <mt-tab-item :id=\"item.id + ''\" v-for=\"(item, i) in cats\" :key=\"i\">{{\n        item.category_name\n      }}</mt-tab-item>\n    </mt-navbar>\n    <!-- 动态面板 -->\n    <mt-tab-container\n      style=\"margin-bottom: 55px; margin-top: 90px\"\n      v-infinite-scroll=\"loadmore\"\n      infinite-scroll-distance=\"50px\"\n      :infinite-scroll-immediate-check=\"true\"\n    >\n      <mt-tab-container-item>\n        <!-- 轮播图 -->\n        <mt-swipe\n          :style=\"{ height: h }\"\n          :speed=\"3000\"\n          :atuo=\"1000\"\n          :continuous=\"false\"\n        >\n          <mt-swipe-item>\n            <img src=\"/images/1.jpg\" alt=\"\" />\n          </mt-swipe-item>\n          <mt-swipe-item>\n            <img src=\"/images/2.jpg\" alt=\"\" />\n          </mt-swipe-item>\n          <mt-swipe-item>\n            <img src=\"/images/3.jpg\" alt=\"\" />\n          </mt-swipe-item>\n        </mt-swipe>\n        <!-- 单一文章信息开始 -->\n        <div class=\"articleItem\" v-for=\"(item, i) in articles\" :key=\"i\">\n          <router-link :to=\"`/article?id=${item.id}`\">\n          <!-- 文章标题开始 -->\n          <div class=\"articleItem-header\">{{ item.subject }}</div>\n          <!-- 文章标题结束 -->\n          <!-- 文章图文信息开始 -->\n          <div class=\"articleItem-wrapper\">\n            <!-- 文章图像开始  -->\n            <div class=\"articleImg\">\n              <img :src=\"`/images/resource/articles/${item.image}`\" />\n            </div>\n            <!-- 文章图像结束 -->\n            <!-- 文章简介开始 -->\n            <div class=\"articleDes\">\n              {{ item.description }}\n            </div>\n            <!-- 文章简介结束 -->\n          </div>\n          <!-- 文章图文信息结束 -->\n          </router-link>\n        </div>\n        <!-- 单一文章信息结束 -->\n      </mt-tab-container-item>\n      <mt-tab-container-item id=\"2\">电商面板</mt-tab-container-item>\n      <mt-tab-container-item id=\"3\">网页面板</mt-tab-container-item>\n      <mt-tab-container-item id=\"4\">交互面板</mt-tab-container-item>\n    </mt-tab-container>\n    <!-- 底部选项卡 -->\n    <mt-tabbar v-model=\"selected\" fixed>\n      <mt-tab-item id=\"shouye\"\n        >首页\n        <img\n          slot=\"icon\"\n          :src=\"\n            require(`../assets/common/main_${\n              selected == 'shouye' ? '1' : '0'\n            }.png`)\n          \"\n          alt=\"\"\n        />\n      </mt-tab-item>\n      <mt-tab-item id=\"me\"\n        >我的\n        <img\n          slot=\"icon\"\n          :src=\"\n            require(`../assets/common/me_${selected == 'me' ? '1' : '0'}.png`)\n          \"\n          alt=\"\"\n        />\n      </mt-tab-item>\n    </mt-tabbar>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      articles: [], //用于存储所有的文章信息\n      active: \"1\", //制顶部导航默认选项id\n      selected: \"shouye\", //指定底部选项卡默认选中项id\n      h: \"210px\", //轮播图的默认高度\n      cats: [], //存储类别数组\n      page: 1,\n      loading: false, //用于标识 列表是否正在加载中\n    };\n  },\n  methods:{\n    //加载文章列表,通过callback返回发请求获取的文章数组\n    //cid 类别id\n    //page 页码\n    //callback 回调方法\n    loadArticles(cid,page,callback){\n      //弹出等待框\n      //Vue.use(MintUI)时 将会为Vue的原型注入$indicator属性\n      this.$indicator.open({\n      text:'加载中...',\n      spinnerType:'snake'\n      })\n      this.axios.get(`/articles?cid=${cid}&page=${page}`).then(res=>{\n        let arts = res.data.results;\n        callback(arts);\n        //取消等待框\n        this.$indicator.close()\n      })\n    },\n\n    initSwipe(){\n      //计算轮播图的高度 为this.h变量赋值\n      let screenW = window.screen.width;\n      let picw = 1242;\n      let pich = 698;\n      let swipeh = Math.floor((pich * screenW) / picw) + \"px\";\n      this.h = swipeh;\n    },\n    // 发请求初始化 导航列表\n    initNav(){\n      this.axios.get(\"/category\").then((res) => {\n        console.log(res);\n        this.cats = res.data.results;\n        console.log(this.cats);\n      });\n    },\n    //声明触底加载的loadmore方法\n    loadmore(){\n      if (this.loading) return; //如果正在加载中,则直接return\n      this.loading = true; //加载中 防止loadmore重复调用\n      let cid = this.active; //当前激活项的类别id 就是cid\n      let page = ++this.page; //获取下一页页码\n      console.log(`触底加载下一页: cid:${cid}  page:${page}`);\n      //发送http请求,获取cid类别下的 page页码的数据:\n      this.loadArticles(cid,page,(arts)=>{\n        this.articles.push(...arts)\n        this.loading = false\n      })\n    },\n  },\n  watch: {\n    // 切换顶部导航选中项触发\n    active(newValue, oldValue) {\n      //回到顶部\n      window.scrollTo(0, 0);\n      //将this.page 重置为1 (从第一页重新加载)\n      this.page = 1;\n      console.log(newValue); //newValue 就是当前类别id\n      //发送http请求 访问当前类别下的第一页数据 更新列表\n      this.loadArticles(newValue,1,(arts)=>{\n        this.articles = arts\n      })\n    },\n    selected(newValue, oldValue) {\n      if (newValue == \"me\") {\n        //用户点了底部选项:我的\n        this.$router.push(\"/me\");\n      }\n    },\n  },\n\n  // 当前页面变为激活态时触发\n  activated(){\n    console.log('激活Home')\n    this.loading = false\n    },\n  // 当前页面变为非激活态时触发\n  deactivated(){\n    console.log('非激活Home')\n    this.loading = true\n    },\n  mounted() {\n    this.initSwipe(); //初始化轮播图\n    this.initNav(); //初始化导航\n    //发送http请求,访问ui类别下的首页文章数据\n    this.loadArticles(1,1,(arts)=>{\n      this.articles = arts;\n    });\n  },\n};\n</script>\n\n<style scoped>\n.link {\n  color: white;\n  margin-left: 10px;\n}\n.mint-swipe-item img {\n  width: 100%;\n}\n.articleItem {\n  padding: 10px 0;\n  margin: 0 10px;\n  border-bottom: 1px solid #999;\n}\n.articleItem-header {\n  font-weight: 600;\n  font-size: 17px;\n  color: #1a1a1a;\n  line-height: 22px;\n}\n.articleItem-wrapper {\n  display: flex;\n  align-items: center;\n  padding-top: 10px;\n  width: 100%;\n}\n.articleImg {\n  margin-right: 15px;\n}\n.articleImg img {\n  width: 112px;\n  height: 74px;\n  border-radius: 5px;\n}\n.articleDes {\n  height: 65px;\n  font-size: 15px;\n  overflow: hidden;\n  font-weight: 400;\n  text-overflow: ellipsis;\n  line-height: 21px;\n  letter-spacing: normal;\n  color: #444;\n}\n</style>"]}]}