{"remainingRequest":"C:\\web2019\\fourth\\day02\\demo\\scaffolding\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\web2019\\fourth\\day02\\demo\\scaffolding\\src\\views\\Register.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\web2019\\fourth\\day02\\demo\\scaffolding\\src\\views\\Register.vue","mtime":1641347196128},{"path":"C:\\web2019\\fourth\\day02\\demo\\scaffolding\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1640758908837},{"path":"C:\\web2019\\fourth\\day02\\demo\\scaffolding\\node_modules\\babel-loader\\lib\\index.js","mtime":1640758922024},{"path":"C:\\web2019\\fourth\\day02\\demo\\scaffolding\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1640758908837},{"path":"C:\\web2019\\fourth\\day02\\demo\\scaffolding\\node_modules\\vue-loader\\lib\\index.js","mtime":1640758924784}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIG5hbWU6ICIiLCAvL+e7keWumueUqOaIt+WQjeaWh+acrOahhui+k+WFpeeahOWGheWuuQ0KICAgICAgbmFtZVN0YXRlOiAiIiwgLy/nu5HlrprnlKjmiLflkI3mlofmnKzmoYbnmoTnirbmgIENCiAgICAgIHB3ZG5hbWU6ICIiLCAvL+e7keWumuWvhueggeaWh+acrOahhui+k+WFpeeahOWGheWuuQ0KICAgICAgcHdkU3RhdGU6ICIiLCAvL+e7keWumuWvhueggeaWh+acrOahhui+k+WFpeeahOeKtuaAgQ0KICAgICAgcmVwd2RuYW1lOiAiIiwgLy/nu5Hlrprnoa7lrprlr4bnoIHmlofmnKzmoYbovpPlhaXnmoTlhoXlrrkNCiAgICAgIHJlcHdkU3RhdGU6ICIiLCAvL+e7keWumuehruWumuWvhueggeaWh+acrOahhui+k+WFpeeahOeKtuaAgQ0KICAgIH07DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAvL+mqjOivgeeUqOaIt+WQjeaWh+acrOahhg0KICAgIGNoZWNrTmFtZSgpIHsNCiAgICAgIGxldCByZWcgPSAvXlx3ezYsMTV9JC87DQogICAgICBpZiAocmVnLnRlc3QodGhpcy5uYW1lKSkgew0KICAgICAgICAvL+mqjOivgeaIkOWKnw0KICAgICAgICB0aGlzLm5hbWVTdGF0ZSA9ICJzdWNjZXNzIjsNCiAgICAgICAgcmV0dXJuIHRydWUNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIC8v6aqM6K+B5aSx6LSlDQogICAgICAgIHRoaXMubmFtZVN0YXRlID0gImVycm9yIjsNCiAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgICB9DQogICAgfSwNCiAgICBjaGVja1B3ZCgpIHsNCiAgICAgIGxldCBwd2QgPSAvXlx3ezZ9JC87DQogICAgICBpZiAocHdkLnRlc3QodGhpcy5wd2RuYW1lKSl7DQogICAgICAgIC8v6aqM6K+B5oiQ5YqfDQogICAgICAgIHRoaXMucHdkU3RhdGUgPSAic3VjY2VzcyI7DQogICAgICAgIHJldHVybiB0cnVlDQogICAgICB9IGVsc2Ugew0KICAgICAgICAvL+mqjOivgeWksei0pQ0KICAgICAgICB0aGlzLnB3ZFN0YXRlID0gImVycm9yIjsNCiAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgICB9DQogICAgfSwNCiAgICBjaGVja1JlcHdkKCkgew0KICAgICAgbGV0IHJlcHdkID0gL15cd3s2fSQvOw0KICAgICAgLy/pqozor4Hlr4bnoIHlkoznoa7orqTlr4bnoIHmmK/lkKbkuIDoh7QNCiAgICAgIGlmIChyZXB3ZC50ZXN0KHRoaXMucmVwd2RuYW1lKSYmdGhpcy5wd2RuYW1lPT10aGlzLnJlcHdkbmFtZSkgew0KICAgICAgICAvL+mqjOivgeaIkOWKnw0KICAgICAgICB0aGlzLnJlcHdkU3RhdGUgPSAic3VjY2VzcyI7DQogICAgICAgIHJldHVybiB0cnVlDQogICAgICB9IGVsc2Ugew0KICAgICAgICAvL+mqjOivgeWksei0pQ0KICAgICAgICB0aGlzLnJlcHdkU3RhdGUgPSAiZXJyb3IiOw0KICAgICAgICByZXR1cm4gZmFsc2UNCiAgICAgIH0NCiAgICB9LCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgIC8v6aqM6K+B6KGo5Y2VDQogICAgY2hlY2tGb3JtKCkgew0KICAgICAgaWYodGhpcy5jaGVja05hbWUoKSAmJiB0aGlzLmNoZWNrUHdkKCkgJiYgdGhpcy5jaGVja1JlcHdkKCkpew0KICAgICAgY29uc29sZS5sb2coIumqjOivgeaIkOWKnyzmiafooYzms6jlhozkuJrliqEuLi4iKTsNCiAgICAgIC8v5Y+R6YCBcG9zdOivt+axgizmiafooYzms6jlhozkuJrliqENCiAgICAgIHRoaXMuYXhpb3MucG9zdCgnL3JlZ2lzdGVyJyxgdXNlcm5hbWU9JHt0aGlzLm5hbWV9JnBhc3N3b3JkPSR7dGhpcy5wd2RuYW1lfWApLnRoZW4ocmVzPT57DQogICAgICAgIGNvbnNvbGUubG9nKHJlcyk7DQogICAgICAgIGlmKHJlcy5kYXRhLmNvZGU9PTIwMCl7IC8v5rOo5YaM5oiQ5YqfDQogICAgICAgICAgIHRoaXMuJHRvYXN0KCfms6jlhozmiJDlip8nKQ0KICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2xvZ2luJykNCiAgICAgICAgfWVsc2UgaWYocmVzLmRhdGEuY29kZT09MjAxKXsgLy/nlKjmiLflt7LlrZjlnKgNCiAgICAgICAgICAgdGhpcy4kbWVzc2FnZWJveCgn5o+Q56S6Jywn55So5oi35bey5a2Y5ZyoJykNCiAgICAgICAgfSANCiAgICAgIH0pDQogICAgICB9DQogICAgfSwNCiAgfSwNCn07DQo="},{"version":3,"sources":["Register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Register.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div>\r\n    <mt-header title=\"注册\">\r\n      <mt-button icon=\"back\" slot=\"left\"></mt-button>\r\n      <router-link to=\"/login\" slot=\"right\">登录</router-link>\r\n    </mt-header>\r\n    <!-- 输入框 -->\r\n    <mt-field\r\n      type=\"text\"\r\n      label=\"用户名\"\r\n      @blur.native.capture=\"checkName\"\r\n      v-model=\"name\"\r\n      :state=\"nameState\"\r\n      placeholder=\"请输入用户名\"\r\n    ></mt-field>\r\n    <mt-field\r\n      type=\"password\"\r\n      label=\"密码\"\r\n      @blur.native.capture=\"checkPwd\"\r\n      placeholder=\"请输入密码\"\r\n      :attr=\"{ maxlength: '11' }\"\r\n      v-model=\"pwdname\"\r\n      :state=\"pwdState\"\r\n    ></mt-field>\r\n    <mt-field\r\n      type=\"text\"\r\n      label=\"确认密码\"\r\n      @blur.native.capture=\"checkRepwd\"\r\n      placeholder=\"请再次输入密码\"\r\n      :attr=\"{ maxlength: '11' }\"\r\n      v-model=\"repwdname\"\r\n      :state=\"repwdState\"\r\n    ></mt-field>\r\n    <mt-button @click=\"checkForm\" type=\"primary\" size=\"large\"\r\n      >快速注册</mt-button\r\n    >\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      name: \"\", //绑定用户名文本框输入的内容\r\n      nameState: \"\", //绑定用户名文本框的状态\r\n      pwdname: \"\", //绑定密码文本框输入的内容\r\n      pwdState: \"\", //绑定密码文本框输入的状态\r\n      repwdname: \"\", //绑定确定密码文本框输入的内容\r\n      repwdState: \"\", //绑定确定密码文本框输入的状态\r\n    };\r\n  },\r\n  methods: {\r\n    //验证用户名文本框\r\n    checkName() {\r\n      let reg = /^\\w{6,15}$/;\r\n      if (reg.test(this.name)) {\r\n        //验证成功\r\n        this.nameState = \"success\";\r\n        return true\r\n      } else {\r\n        //验证失败\r\n        this.nameState = \"error\";\r\n        return false\r\n      }\r\n    },\r\n    checkPwd() {\r\n      let pwd = /^\\w{6}$/;\r\n      if (pwd.test(this.pwdname)){\r\n        //验证成功\r\n        this.pwdState = \"success\";\r\n        return true\r\n      } else {\r\n        //验证失败\r\n        this.pwdState = \"error\";\r\n        return false\r\n      }\r\n    },\r\n    checkRepwd() {\r\n      let repwd = /^\\w{6}$/;\r\n      //验证密码和确认密码是否一致\r\n      if (repwd.test(this.repwdname)&&this.pwdname==this.repwdname) {\r\n        //验证成功\r\n        this.repwdState = \"success\";\r\n        return true\r\n      } else {\r\n        //验证失败\r\n        this.repwdState = \"error\";\r\n        return false\r\n      }\r\n    },                                                                                                   \r\n    //验证表单\r\n    checkForm() {\r\n      if(this.checkName() && this.checkPwd() && this.checkRepwd()){\r\n      console.log(\"验证成功,执行注册业务...\");\r\n      //发送post请求,执行注册业务\r\n      this.axios.post('/register',`username=${this.name}&password=${this.pwdname}`).then(res=>{\r\n        console.log(res);\r\n        if(res.data.code==200){ //注册成功\r\n           this.$toast('注册成功')\r\n           this.$router.push('/login')\r\n        }else if(res.data.code==201){ //用户已存在\r\n           this.$messagebox('提示','用户已存在')\r\n        } \r\n      })\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style  scoped>\r\n</style>"]}]}