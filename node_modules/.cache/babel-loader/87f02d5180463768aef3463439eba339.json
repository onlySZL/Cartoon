{"remainingRequest":"C:\\web2019\\fourth\\day02\\demo\\scaffolding\\node_modules\\babel-loader\\lib\\index.js!C:\\web2019\\fourth\\day02\\demo\\scaffolding\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\web2019\\fourth\\day02\\demo\\scaffolding\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\web2019\\fourth\\day02\\demo\\scaffolding\\src\\views\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\web2019\\fourth\\day02\\demo\\scaffolding\\src\\views\\Login.vue","mtime":1641353342832},{"path":"C:\\web2019\\fourth\\day02\\demo\\scaffolding\\babel.config.js","mtime":1640758967175},{"path":"C:\\web2019\\fourth\\day02\\demo\\scaffolding\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1640758908837},{"path":"C:\\web2019\\fourth\\day02\\demo\\scaffolding\\node_modules\\babel-loader\\lib\\index.js","mtime":1640758922024},{"path":"C:\\web2019\\fourth\\day02\\demo\\scaffolding\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1640758908837},{"path":"C:\\web2019\\fourth\\day02\\demo\\scaffolding\\node_modules\\vue-loader\\lib\\index.js","mtime":1640758924784}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudGVzdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG5hbWU6ICIiLAogICAgICAvL+e7keWumueUqOaIt+WQjeaWh+acrOahhui+k+WFpeeahOWGheWuuQogICAgICBuYW1lU3RhdGU6ICIiLAogICAgICAvL+e7keWumueUqOaIt+WQjeaWh+acrOahhueahOeKtuaAgQogICAgICBwd2RuYW1lOiAiIiwKICAgICAgLy/nu5Hlrprlr4bnoIHmlofmnKzmoYbovpPlhaXnmoTlhoXlrrkKICAgICAgcHdkU3RhdGU6ICIiIC8v57uR5a6a5a+G56CB5paH5pys5qGG6L6T5YWl55qE54q25oCBCgogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8v6aqM6K+B55So5oi35ZCN5paH5pys5qGGCiAgICBjaGVja05hbWU6IGZ1bmN0aW9uIGNoZWNrTmFtZSgpIHsKICAgICAgdmFyIHJlZyA9IC9eXHd7NiwxNX0kLzsKCiAgICAgIGlmIChyZWcudGVzdCh0aGlzLm5hbWUpKSB7CiAgICAgICAgLy/pqozor4HmiJDlip8KICAgICAgICB0aGlzLm5hbWVTdGF0ZSA9ICJzdWNjZXNzIjsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvL+mqjOivgeWksei0pQogICAgICAgIHRoaXMubmFtZVN0YXRlID0gImVycm9yIjsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICBjaGVja1B3ZDogZnVuY3Rpb24gY2hlY2tQd2QoKSB7CiAgICAgIHZhciBwd2QgPSAvXlx3ezZ9JC87CgogICAgICBpZiAocHdkLnRlc3QodGhpcy5wd2RuYW1lKSkgewogICAgICAgIC8v6aqM6K+B5oiQ5YqfCiAgICAgICAgdGhpcy5wd2RTdGF0ZSA9ICJzdWNjZXNzIjsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvL+mqjOivgeWksei0pQogICAgICAgIHRoaXMucHdkU3RhdGUgPSAiZXJyb3IiOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIC8v6aqM6K+B6KGo5Y2VCiAgICBjaGVja0Zvcm06IGZ1bmN0aW9uIGNoZWNrRm9ybSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICh0aGlzLmNoZWNrTmFtZSgpICYmIHRoaXMuY2hlY2tQd2QoKSkgewogICAgICAgIGNvbnNvbGUubG9nKCLpqozor4HmiJDlip8s5omn6KGM55m75b2V5Lia5YqhLi4uIik7IC8v5Y+R6YCBcG9zdOivt+axgizmiafooYznmbvlvZXkuJrliqEKCiAgICAgICAgdGhpcy5heGlvcy5wb3N0KCcvbG9naW4nLCAidXNlcm5hbWU9Ii5jb25jYXQodGhpcy5uYW1lLCAiJnBhc3N3b3JkPSIpLmNvbmNhdCh0aGlzLnB3ZG5hbWUpKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CgogICAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT0gMjAwKSB7CiAgICAgICAgICAgIC8v55m75b2V5oiQ5YqfCiAgICAgICAgICAgIF90aGlzLiR0b2FzdCgn55m75b2V5oiQ5YqfJyk7IC8v6LCD55SobXV0YXRpb25z5Lit55qEbG9naW5PSyzkv67mlLl2dWV455So5oi354q25oCBCgoKICAgICAgICAgICAgX3RoaXMuJHN0b3JlLmNvbW1pdCgnbG9naW5PSycsIF90aGlzLm5hbWUpOwoKICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKCcvJyk7CiAgICAgICAgICB9IGVsc2UgaWYgKHJlcy5kYXRhLmNvZGUgPT0gMjAxKSB7CiAgICAgICAgICAgIC8v55m75b2V5aSx6LSlCiAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlYm94KCfmj5DnpLonLCAn6LSm5Y+35a+G56CB6L6T5YWl6ZSZ6K+vJyk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,EADA;AACA;AACA,MAAA,SAAA,EAAA,EAFA;AAEA;AACA,MAAA,OAAA,EAAA,EAHA;AAGA;AACA,MAAA,QAAA,EAAA,EAJA,CAIA;;AAJA,KAAA;AAMA,GARA;AASA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,SAFA,uBAEA;AACA,UAAA,GAAA,GAAA,YAAA;;AACA,UAAA,GAAA,CAAA,IAAA,CAAA,KAAA,IAAA,CAAA,EAAA;AACA;AACA,aAAA,SAAA,GAAA,SAAA;AACA,eAAA,IAAA;AACA,OAJA,MAIA;AACA;AACA,aAAA,SAAA,GAAA,OAAA;AACA,eAAA,KAAA;AACA;AACA,KAbA;AAcA,IAAA,QAdA,sBAcA;AACA,UAAA,GAAA,GAAA,SAAA;;AACA,UAAA,GAAA,CAAA,IAAA,CAAA,KAAA,OAAA,CAAA,EAAA;AACA;AACA,aAAA,QAAA,GAAA,SAAA;AACA,eAAA,IAAA;AACA,OAJA,MAIA;AACA;AACA,aAAA,QAAA,GAAA,OAAA;AACA,eAAA,KAAA;AACA;AACA,KAzBA;AA0BA;AACA,IAAA,SA3BA,uBA2BA;AAAA;;AACA,UAAA,KAAA,SAAA,MAAA,KAAA,QAAA,EAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,gBAAA,EADA,CAEA;;AACA,aAAA,KAAA,CAAA,IAAA,CAAA,QAAA,qBAAA,KAAA,IAAA,uBAAA,KAAA,OAAA,GAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,GAAA;;AACA,cAAA,GAAA,CAAA,IAAA,CAAA,IAAA,IAAA,GAAA,EAAA;AAAA;AACA,YAAA,KAAA,CAAA,MAAA,CAAA,MAAA,EADA,CAEA;;;AACA,YAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,SAAA,EAAA,KAAA,CAAA,IAAA;;AACA,YAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,GAAA;AACA,WALA,MAKA,IAAA,GAAA,CAAA,IAAA,CAAA,IAAA,IAAA,GAAA,EAAA;AAAA;AACA,YAAA,KAAA,CAAA,WAAA,CAAA,IAAA,EAAA,UAAA;AACA;AACA,SAVA;AAYA;AACA;AA5CA;AATA,CAAA","sourcesContent":["<template>\r\n    <div>\r\n    <mt-header title=\"登录\">\r\n      <mt-button icon=\"back\" slot=\"left\"></mt-button>\r\n      <router-link to=\"/register\" slot=\"right\">注册</router-link>\r\n    </mt-header>\r\n    <!-- 输入框 -->\r\n    <mt-field\r\n      type=\"text\"\r\n      label=\"用户名\"\r\n      @blur.native.capture=\"checkName\"\r\n      v-model=\"name\"\r\n      :state=\"nameState\"\r\n      placeholder=\"请输入用户名\"\r\n    ></mt-field>\r\n    <mt-field\r\n      type=\"password\"\r\n      label=\"密码\"\r\n      @blur.native.capture=\"checkPwd\"\r\n      placeholder=\"请输入密码\"\r\n      :attr=\"{ maxlength: '11' }\"\r\n      v-model=\"pwdname\"\r\n      :state=\"pwdState\"\r\n    ></mt-field>\r\n    <mt-button @click=\"checkForm\" type=\"primary\" size=\"large\"\r\n      >安全登录</mt-button\r\n    >\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      name: \"\", //绑定用户名文本框输入的内容\r\n      nameState: \"\", //绑定用户名文本框的状态\r\n      pwdname: \"\", //绑定密码文本框输入的内容\r\n      pwdState: \"\", //绑定密码文本框输入的状态\r\n    };\r\n  },\r\n  methods: {\r\n    //验证用户名文本框\r\n    checkName() {\r\n      let reg = /^\\w{6,15}$/;\r\n      if (reg.test(this.name)) {\r\n        //验证成功\r\n        this.nameState = \"success\";\r\n        return true\r\n      } else {\r\n        //验证失败\r\n        this.nameState = \"error\";\r\n        return false\r\n      }\r\n    },\r\n    checkPwd() {\r\n      let pwd = /^\\w{6}$/;\r\n      if (pwd.test(this.pwdname)){\r\n        //验证成功\r\n        this.pwdState = \"success\";\r\n        return true\r\n      } else {\r\n        //验证失败\r\n        this.pwdState = \"error\";\r\n        return false\r\n      }                                                                                                                                                              \r\n    },\r\n    //验证表单\r\n    checkForm() {\r\n      if(this.checkName() && this.checkPwd()){\r\n      console.log(\"验证成功,执行登录业务...\");\r\n       //发送post请求,执行登录业务\r\n      this.axios.post('/login',`username=${this.name}&password=${this.pwdname}`).then(res=>{\r\n        console.log(res);\r\n        if(res.data.code==200){ //登录成功\r\n        this.$toast('登录成功')\r\n        //调用mutations中的loginOK,修改vuex用户状态\r\n        this.$store.commit('loginOK',this.name)\r\n        this.$router.push('/')\r\n        }else if(res.data.code==201){ //登录失败\r\n         this.$messagebox('提示','账号密码输入错误')\r\n        } \r\n      })\r\n          \r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"sourceRoot":"src/views"}]}